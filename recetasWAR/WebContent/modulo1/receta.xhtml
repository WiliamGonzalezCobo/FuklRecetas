<ui:composition template="/template/template.xhtml" 
				xmlns="http://www.w3.org/1999/xhtml" 
				xmlns:ui="http://java.sun.com/jsf/facelets" 
				xmlns:f="http://java.sun.com/jsf/core"
				xmlns:h="http://java.sun.com/jsf/html"
				xmlns:p="http://primefaces.org/ui">

	<!-- params for page titles-->

	<ui:define name="content">
		<h:form id="form_receta">
			<h:panelGrid columns="2">

				<p:fieldset legend="Listado" style="margin-top: -263px">
					<h:panelGrid id="recetas">
						<p:dataTable var="receta" value="#{recetaBean.listadoRecetas}">
							<p:column headerText="Nombre:">
								<h:outputText value="#{receta.nombre}" />
							</p:column>
						</p:dataTable>
					</h:panelGrid>
				</p:fieldset>

				<p:fieldset legend="Receta">
					<h:panelGrid columns="2" id="panelCreacion">
						<h:outputLabel for="nombreReceta" value="Nombre Receta:" />
						<p:inputText id="nombreReceta" value="#{recetaBean.receta.nombre}" required="true" />

						<h:outputLabel for="tiempoCoccion" value="Tiempo CocciÃ³n:" />
						<h:panelGrid columns="2">
							<p:inputText id="tiempoCoccion" value="#{recetaBean.receta.tiempoCoccion}" required="true" style="text-align: right;" />
							<h:outputLabel value="hr" />
						</h:panelGrid>

						<h:outputText value="" />

						<p:dataTable var="ingrediente" value="#{recetaBean.receta.listaIngredientes}" id="tablaIngredientes" >
							<f:facet name="header">Ingredientes</f:facet>

							<p:column headerText="Nombre:">
								<h:outputText value="#{ingrediente.nombre}" />
								<f:facet name="footer">
									<p:inputText id="nombreIngrediente" value="#{recetaBean.ingrediente.nombre}" />
								</f:facet>
							</p:column>

							<p:column headerText="Cantidad">
								<h:outputText value="#{ingrediente.cantidad}" />
								<f:facet name="footer">
									<p:inputText id="cantidadIngrediente" value="#{recetaBean.ingrediente.cantidad}" />
								</f:facet>
							</p:column>

							<p:column>
								<f:facet name="footer">
									<p:commandButton update="tablaIngredientes" value="Guardar" id="guardarIngrediente" styleClass="ui-priority-primary" action="#{recetaBean.guardarIngrediente}" />
								</f:facet>
							</p:column>

						</p:dataTable>

						<h:outputLabel for="preparacion" value="Preparacion:" />
						<p:inputTextarea id="preparacion" value="#{recetaBean.receta.preparacion}" rows="10" cols="100" queryDelay="750" minQueryLength="4" />

						<h:panelGrid>
							<p:commandButton update="recetas" value="Guardar" id="guardarReceta" styleClass="ui-priority-primary" action="#{recetaBean.guardarReceta}" />
						</h:panelGrid>

					</h:panelGrid>

				</p:fieldset>

			</h:panelGrid>

		</h:form>
	</ui:define>

</ui:composition>
